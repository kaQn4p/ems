<!DOCTYPE html>
<html lang="de" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>EU-Mobilitäten</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" th:href="@{/css/eu-style.css}">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.2.3/css/flag-icons.min.css" />

</head>
<header class="eu-header">
	<div class="eu-header-logos">
		<img src="/images/cuno-logo.png" alt="Schule Logo" class="eu-header-logo">
		<img src="/images/erasmus-logo.png" alt="Erasmus+ Logo" class="eu-header-logo">
		<img src="/images/eu-flagge.png" alt="EU Flagge" class="eu-header-flag">
		<h1>EU-Mobilitäten für Auszubildende</h1>
	</div>
</header>

<body class="info-page">
	<div class="container">
		<!DOCTYPE html>
		<html lang="de">

		<head>
			<meta charset="UTF-8">
			<meta name="viewport" content="width=device-width, initial-scale=1.0">
			<title>EU-Mobilitätsprogramm für Auszubildende</title>
			<style>
				body {
					font-family: Arial, sans-serif;
					line-height: 1.6;
					margin: 0;
					padding: 20px;
				}

				h1,
				h2 {
					color: #003399;
				}

				.section {
					display: none;
					margin-bottom: 30px;
				}

				.active {
					display: block;
				}

				form {
					max-width: 600px;
				}

				label {
					display: block;
					margin-top: 10px;
				}

				input,
				select {
					width: 100%;
					padding: 5px;
					margin-top: 5px;
				}

				button {
					background-color: #003399;
					color: white;
					padding: 10px 15px;
					border: none;
					cursor: pointer;
					margin-top: 20px;
				}
			</style>
		</head>

		<body>
			<div id="info" class="section active">
				<h1 class="eu-header text-center mb-4">Allgemeine Informationen</h1>
				<div class="container">
					<div class="info-card">
						<div class="progress mb-4">
							<div class="progress-bar" role="progressbar" style="width: 20%;" aria-valuenow="20"
								aria-valuemin="0" aria-valuemax="100">Schritt 1 von 5</div>
						</div>
						<div class="highlight">
							<p class="mb-0">
								<strong>Sehr geehrte Ausbilderin, sehr geehrter Ausbilder, liebe
									Auszubildenden,</strong>
							</p>
						</div>

						<p>
							wir beabsichtigen für den <strong>Herbst 2025</strong> sowie für das <strong>Frühjahr
								2026</strong>
							einigen Auszubildenden die Möglichkeit zu bieten, praktische Erfahrung in ausländischen
							Betrieben zu sammeln.
						</p>

						<div class="row">
							<div class="col-md-6">
								<h3>Unsere Partnerländer</h3>
								<ul class="list-unstyled">
									<li><span class="fi fi-es"></span> Spanien</li>
									<li><span class="fi fi-it"></span> Italien</li>
									<li><span class="fi fi-ie"></span> Irland</li>
									<li><span class="fi fi-fr"></span> Frankreich</li>
									<li><span class="fi fi-gr"></span> Griechenland</li>
									<li><span class="fi fi-dk"></span> Dänemark</li>
									<li><span class="fi fi-fi"></span> Finnland</li>
								</ul>

							</div>
							<div class="col-md-6">
								<div class="highlight">
									<h4>Wichtige Eckdaten</h4>
									<ul>
										<li>Dauer: 4 Wochen</li>
										<li>Finanzierung: Erasmus+</li>
										<li>Mindestalter: 18 Jahre</li>
									</ul>
								</div>
							</div>
						</div>

						<div class="contact-info">
							<h3>Kontakt</h3>
							<p>
								Bei Rückfragen wenden Sie sich bitte an:<br>
								<strong>Iris Luongo-Schnitzler</strong> (luongo-schnitzler@cuno1.de)<br>
								<strong>Alexander Einhoff</strong> (einhoff@cuno1.de)
							</p>
						</div>
					</div>
				</div>
				<div class="text-center">
					<button onclick="nextSection('privacy')" class="btn btn-eu">Weiter</button>
				</div>
			</div>

			<div id="privacy" class="section">
				<h1 class="eu-header text-center mb-4">Datenschutzerklärung</h1>
				<div class="container">
					<div class="info-card">
						<div class="progress mb-4">
							<div class="progress-bar" role="progressbar" style="width: 40%;" aria-valuenow="40"
								aria-valuemin="0" aria-valuemax="100">Schritt 2 von 5</div>
						</div>
						<div class="mb-4">
							<h3>Speicherung und Verarbeitung Ihrer Daten</h3>
							<p>Wir möchten Sie darüber informieren, dass die von Ihnen angegebenen personenbezogenen
								Daten zum Zweck der Durchführung des EU-Mobilitätsprogramms gespeichert und verarbeitet
								werden. Dies umfasst:</p>
							<ul>
								<li>Ihre persönlichen Daten (Name, Adresse, Kontaktinformationen)</li>
								<li>Informationen zu Ihrem Ausbildungsbetrieb</li>
								<li>Details zu Ihrem geplanten Auslandsaufenthalt</li>
							</ul>
							<p>Ihre Daten werden ausschließlich für die Organisation und Durchführung des
								EU-Mobilitätsprogramms verwendet und nicht an Dritte weitergegeben, es sei denn, dies
								ist für die Programmabwicklung erforderlich (z.B. an Partnerorganisationen im Ausland).
							</p>
							<p>Sie haben jederzeit das Recht, Auskunft über Ihre gespeicherten Daten zu erhalten, diese
								korrigieren oder löschen zu lassen. Bitte kontaktieren Sie uns dafür unter
								[Kontakt-E-Mail-Adresse].</p>
							<pp>
								Ich habe die Datenschutzerklärung gelesen und bin mit der Speicherung und Verarbeitung
								meiner Daten einverstanden.
							</pp>
						</div>

						<div class="text-center">
							<button onclick="nextSection('info')" class="btn btn-eu">Zurück</button>
							<button onclick="nextSection('personal')" class="btn btn-eu">Weiter</button>
						</div>
					</div>
				</div>
			</div>

			<div id="personal" class="section">
				<h1 class="eu-header text-center mb-4">Persönliche Daten</h1>
				<div class="container">
					<div class="info-card">
						<div class="progress mb-4">
							<div class="progress-bar" role="progressbar" style="width: 60%;" aria-valuenow="60"
								aria-valuemin="0" aria-valuemax="100">Schritt 3 von 5</div>
						</div>
						<form th:action="@{/submit-personal-data}" th:object="${personalData}" method="post">
							<div class="row">
								<div class="col-md-6 mb-3">
									<label for="username" class="form-label">Benutzername</label>
									<input type="text" class="form-control" id="username" th:field="*{username}"
										disabled="disabled">
									<div class="text-danger" th:if="${#fields.hasErrors('username')}"
										th:errors="*{username}">
									</div>
								</div>
							</div>

							<div class="row">
								<div class="col-md-6 mb-3">
									<label for="firstName" class="form-label">Vorname</label>
									<input type="text" class="form-control" id="firstName" th:field="*{firstName}"
										required>
									<div class="text-danger" th:if="${#fields.hasErrors('firstName')}"
										th:errors="*{firstName}">
									</div>
								</div>
								<div class="col-md-6 mb-3">
									<label for="lastName" class="form-label">Name</label>
									<input type="text" class="form-control" id="lastName" th:field="*{lastName}"
										required>
									<div class="text-danger" th:if="${#fields.hasErrors('lastName')}"
										th:errors="*{lastName}">
									</div>
								</div>
							</div>

							<div class="row">
								<div class="col-md-8 mb-3">
									<label for="address" class="form-label">Anschrift</label>
									<input type="text" class="form-control" id="address" th:field="*{address}" required>
									<div class="text-danger" th:if="${#fields.hasErrors('address')}"
										th:errors="*{address}">
									</div>
								</div>
								<div class="col-md-4 mb-3">
									<label for="dateOfBirth" class="form-label">Geburtsdatum</label>
									<input type="date" class="form-control" id="dateOfBirth" th:field="*{dateOfBirth}"
										required>
									<div class="text-danger" th:if="${#fields.hasErrors('dateOfBirth')}"
										th:errors="*{dateOfBirth}"></div>
								</div>
							</div>

							<div class="row">
								<div class="col-md-6 mb-3">
									<label for="email" class="form-label">E-Mail</label>
									<input type="email" class="form-control" id="email" th:field="*{email}" required>
									<div class="text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">
									</div>
								</div>
								<div class="col-md-6 mb-3">
									<label for="phoneNumber" class="form-label">Handynummer</label>
									<input type="tel" class="form-control" id="phoneNumber" th:field="*{phoneNumber}"
										required>
									<div class="text-danger" th:if="${#fields.hasErrors('phoneNumber')}"
										th:errors="*{phoneNumber}"></div>
								</div>
							</div>

							<div class="row">
								<div class="col-md-6 mb-3">
									<label for="className" class="form-label">Klasse</label>
									<input type="text" class="form-control" id="className" th:field="*{className}"
										required>
									<div class="text-danger" th:if="${#fields.hasErrors('className')}"
										th:errors="*{className}">
									</div>
								</div>
								<div class="col-md-6 mb-3">
									<label for="classTeacher" class="form-label">Klassenlehrer</label>
									<input type="text" class="form-control" id="classTeacher" th:field="*{classTeacher}"
										required>
									<div class="text-danger" th:if="${#fields.hasErrors('classTeacher')}"
										th:errors="*{classTeacher}"></div>
								</div>
							</div>

							<div class="row">
								<div class="col-md-6 mb-3">
									<label for="graduationPeriod" class="form-label">Abschlusszeitraum</label>
									<select class="form-select" id="graduationPeriod" th:field="*{graduationPeriod}"
										required>
										<option value="">Bitte wählen</option>
										<option th:each="season : ${seasons}" th:value="${season}" th:text="${season}">
										</option>
									</select>
									<div class="text-danger" th:if="${#fields.hasErrors('graduationPeriod')}"
										th:errors="*{graduationPeriod}"></div>
								</div>
								<div class="col-md-6 mb-3">
									<label for="graduationYear" class="form-label">Abschlussjahr</label>
									<select class="form-select" id="graduationYear" th:field="*{graduationYear}"
										required>
										<option value="">Bitte wählen</option>
										<option th:each="year : ${#numbers.sequence(2024, 2030)}" th:value="${year}"
											th:text="${year}"></option>
									</select>
									<div class="text-danger" th:if="${#fields.hasErrors('graduationYear')}"
										th:errors="*{graduationYear}"></div>
								</div>

								<div class="row mt-4">
									<div class="col-12 text-center">
										<button onclick="nextSection('privacy')" class="btn btn-eu">Zurück</button>
										<button type="button" onclick="nextSection('company')"
											class="btn btn-eu">Weiter</button>
									</div>
								</div>

							</div>

						</form>
					</div>
				</div>
			</div>

			<div id="signature" class="section">
				<h1 class="eu-header text-center mb-4">Bestätigung der Daten</h1>
				<div class="container">
					<div class="info-card">

						<div class="progress mb-4">
							<div class="progress-bar" role="progressbar" style="width: 100%;" aria-valuenow="100"
								aria-valuemin="0" aria-valuemax="100">Schritt 5 von 5</div>
						</div>
						<form th:action="@{/submit-personal-data}" th:object="${personalData}" method="post">
							<div class="row">
								Mit meiner Unterschrift im nachfolgenden Feld bestätige ich die Korrektheit meiner Daten.
							</div>
							<div class="row">
								<label for="signature">Unterschrift:</label>
								<canvas id="signatureCanvas" width="300" height="100"
									style="border:1px solid #000000;"></canvas>
								<button type="button" onclick="clearSignature()" class="btn btn-eu">Unterschrift
									löschen</button>
							</div>
							<div class="row mt-4">
								<div class="col-12 text-center">
									<button onclick="nextSection('company')" class="btn btn-eu">Zurück</button>
									<button type="submit" id="interestButton" class="btn btn-eu" disabled>Interesse bekunden!</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>

			<div id="company" class="section">
				<h1 class="eu-header text-center mb-4">Betrieblicher Ansprechpartner</h1>
				<div class="container">
					<div class="info-card">

						<div class="progress mb-4">
							<div class="progress-bar" role="progressbar" style="width: 80%;" aria-valuenow="80"
								aria-valuemin="0" aria-valuemax="100">Schritt 4 von 5</div>
						</div>
						<form th:action="@{/submit-personal-data}" th:object="${personalData}" method="post">
							<div class="row">
								<div class="col-md-6 mb-3">
									<label for="companyName" class="form-label">Name des Betriebs</label>
									<input type="text" class="form-control" id="companyName" th:field="*{companyName}"
										required>
									<div class="text-danger" th:if="${#fields.hasErrors('companyName')}"
										th:errors="*{companyName}"></div>
								</div>
								<div class="col-md-6 mb-3">
									<label for="contactPerson" class="form-label">Ansprechpartner</label>
									<input type="text" class="form-control" id="contactPerson"
										th:field="*{contactPerson}" required>
									<div class="text-danger" th:if="${#fields.hasErrors('contactPerson')}"
										th:errors="*{contactPerson}"></div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-6 mb-3">
									<label for="companyEmail" class="form-label">E-Mail</label>
									<input type="email" class="form-control" id="companyEmail"
										th:field="*{companyEmail}" required>
									<div class="text-danger" th:if="${#fields.hasErrors('companyEmail')}"
										th:errors="*{companyEmail}"></div>
								</div>
								<div class="col-md-6 mb-3">
									<label for="phone" class="form-label">Telefon</label>
									<input type="tel" class="form-control" id="phone" th:field="*{phone}" required>
									<div class="text-danger" th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}">
									</div>
								</div>
							</div>
							<div class="row mt-4">
								<div class="col-12 text-center">
									<button onclick="nextSection('personal')" class="btn btn-eu">Zurück</button>
									<button onclick="nextSection('signature')" class="btn btn-eu">Weiter</button>
								</div>
						</form>
					</div>
				</div>
			</div>

			<script>
				var canvas = document.getElementById('signatureCanvas');
				var interestButton = document.getElementById('interestButton');
				var context = canvas.getContext('2d');
				var isDrawing = false;
				var hasSignature = false;

				canvas.addEventListener('mousedown', startDrawing);
				canvas.addEventListener('mousemove', draw);
				canvas.addEventListener('mouseup', stopDrawing);
				canvas.addEventListener('mouseout', stopDrawing);

				function enableButton() {
				    
				}
				
				function getMousePos(canvas, evt) {
					  var rect = canvas.getBoundingClientRect(), // abs. size of element
					    scaleX = canvas.width / rect.width,    // relationship bitmap vs. element for x
					    scaleY = canvas.height / rect.height;  // relationship bitmap vs. element for y

					  return {
					    x: (evt.clientX - rect.left) * scaleX,   // scale mouse coordinates after they have
					    y: (evt.clientY - rect.top) * scaleY     // been adjusted to be relative to element
					  }
					}

				function startDrawing(e) {
				    isDrawing = true;
				    draw(e);
				}

				function draw(e) {
				    if (!isDrawing) return;
					if (!hasSignature) {
									        hasSignature = true;
									        interestButton.disabled = false;
									    }
				    var mousePos = getMousePos(canvas, e);
				    context.lineWidth = 1;
				    context.lineCap = 'round';
				    context.lineTo(mousePos.x, mousePos.y);
				    context.stroke();
				    context.beginPath();
				    context.moveTo(mousePos.x, mousePos.y);
				}

				function stopDrawing() {
				    isDrawing = false;
				    context.beginPath();
				}

				function clearSignature() {
				    context.clearRect(0, 0, canvas.width, canvas.height);
				    hasSignature = false;
				    interestButton.disabled = true;
				}
			</script>

			<script>
				function nextSection(sectionId) {
					const sections = ['info', 'privacy', 'personal', 'company', 'signature'];
					const currentIndex = sections.indexOf(document.querySelector('.section.active').id);
					const nextIndex = sections.indexOf(sectionId);

					if (nextIndex > currentIndex) {
						// Validierung hier einfügen, falls erforderlich
					}

					document.querySelectorAll('.section').forEach(section => section.classList.remove('active'));
					document.getElementById(sectionId).classList.add('active');

					// Aktualisieren Sie die Navigation
					document.getElementById('navLeft').style.display = sectionId === 'info' ? 'none' : 'inline';
					document.getElementById('navRight').style.display = sectionId === 'signature' ? 'none' : 'inline';
					document.getElementById('stepInfo').textContent = `Schritt ${nextIndex + 1} von 5`;
				}

			</script>
		</body>

		</html>